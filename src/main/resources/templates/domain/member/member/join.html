<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <script>
        function submitJoinForm(form) {
            form.username.value = form.username.value.trim();

            if (form.username.value.length == 0) {
                toastWarning('사용자 ID를 입력해주세요.');
                form.username.focus();
                return;
            }

            form.password.value = form.password.value.trim();

            if (form.password.value.length == 0) {
                toastWarning('비밀번호를 입력해주세요.');
                form.password.focus();
                return;
            }

            form.passwordConfirm.value = form.passwordConfirm.value.trim();

            if (form.passwordConfirm.value.length == 0) {
                toastWarning('비밀번호 확인을 입력해주세요.');
                form.passwordConfirm.focus();
                return;
            }

            if (form.password.value != form.passwordConfirm.value) {
                toastWarning('비밀번호가 일치하지 않습니다.');
                form.passwordConfirm.focus();
                return;
            }

            form.nickname.value = form.nickname.value.trim();

            if (form.nickname.value.length == 0) {
                toastWarning('별명을 입력해주세요.');
                form.nickname.focus();
                return;
            }
            form.submit();
        }
    </script>

    <div class="container mt-5">
        <div class="d-flex align-items-center justify-content-center">
            <div class="col-md-6">
                <h3 class="mb-4">
                    <i class="fa-solid fa-arrow-right-to-bracket"></i>
                    로그인
                </h3>
                <form th:action method="POST" enctype="multipart/form-data" onsubmit="submitJoinForm(this); return false;" class="flex flex-col gap-6">
                    <div class="form-group">
                        <label for="username">아이디</label>
                        <input type="text" class="form-control" id="username" placeholder="아이디">
                    </div>
                    <div class="form-group">
                        <label for="email">이메일</label>
                        <input type="email" class="form-control" id="email" placeholder="이메일">
                    </div>
                    <div class="form-group">
                        <label for="password">비밀번호</label>
                        <input type="password" class="form-control" id="password" placeholder="비밀번호">
                    </div>
                    <div class="form-group">
                        <label for="password">아이디</label>
                        <input type="password" class="form-control" id="passwordConfirm" placeholder="비밀번호 확인">
                    </div>
                    <div class="form-group">
                        <label for="nickname">닉네임</label>
                        <input type="text" class="form-control" id="nickname" placeholder="닉네임">
                    </div>
                    <div>
                        <label>프로필 이미지</label>
                        <input type="file" name="profileImg" class="file-input file-input-bordered" accept="image/jpeg, image/png, image/gif">
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fa-regular fa-user"></i>
                        <span>회원가입</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
</html>